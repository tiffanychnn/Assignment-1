<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>MDIA 2294: WK4_EX1</title>
		<link rel="stylesheet" href="css/ex-1.css">
	</head>
	<body>

		<h1>MDIA 2294: WK4_EX1</h1>
		
		<h2>Course Mark Calculator</h2>
		
		<p>Please enter marks as their decimal equivalent.</p>
		
		<table>
			<tr>
				<td>Professionalism:</td>
				<td><input id="prof" type="text" /></td>
				<td>@10% = <span id="prof-mark"></span></td>
			</tr>
			<tr>
				<td>Assignments (all):</td>
				<td><input id="assign" type="text" /></td>
				<td>@40% = <span id="assign-mark"></span></td>
			</tr>
			<tr>
				<td>Quiz 1:</td>
				<td><input id="quiz-1" type="text" /></td>
				<td>@10% = <span id="quiz-1-mark"></span></td>
			</tr>
			<tr>
				<td>Quiz 2:</td>
				<td><input id="quiz-2" type="text" /></td>
				<td>@10% = <span id="quiz-2-mark"></span></td>
			</tr>
			<tr>
				<td>Final Project:</td>
				<td><input id="project" type="text" /></td>
				<td>@30% = <span id="project-mark"></span></td>
			</tr>
			<tr>
				<td></td>
				<td>
					<button id="calculate">Calculate</button>
				</td>
				<td style="border-top:solid 1px black;">
					<div style="font-weight:bold;">Final: <span id="result"></span></div>
					<div style="font-style:italic;" id="result-note"></div>
				</td>	        
			</tr>
		</table>

		<script>
	 
		// Store the button in a variable
		const calc_btn = document.querySelector("#calculate");

		// One method of separating constants from other variables is by using ALL_CAPS
		const PROF_FACTOR = .1;
		const ASSIGN_FACTOR = .4;
		const QUIZ_FACTOR = .1;
		const PROJ_FACTOR = .3;

		// Create a new function 
		function calc_marks() {   
			
			// Create a new variable to store a total for each line
			let line_total = 0;  

			// Create a new variable to store the running total
			let total_sum = 0; 


			// Professionalism
			// ----------
			
			total_sum += calc_single_grade("#prof", PROF_FACTOR);
			total_sum += calc_single_grade("#assign", ASSIGN_FACTOR);
			total_sum += calc_single_grade("#quiz-1", QUIZ_FACTOR);
			total_sum += calc_single_grade("#quiz-2", QUIZ_FACTOR);
			total_sum += calc_single_grade("#project", PROF_FACTOR);

			let error;

			// create new function

			// Display The Final Result
			// ----------

			// Finally display the total on screen
			// Note that we concatenate a % character onto the end for formatting
			// Here we've added .toFixed(2) to total_sum
			//		This method will change a number to a decimal formatted string
			//		Example: 24 would become "24.00" OR 13.7777777 would be come "13.78"
			document.querySelector("#result").innerHTML = total_sum.toFixed(2) + "%";

			// This line a conditional operator to write "PASS" or "FAIL" to the text inside of the #result-content element on screen.
			// Syntax:
			//	(x > ?): "x is larger" : "x is not larger";
			//document.querySelector("#result-note").innerHTML = (total >= 50) ? "PASS" : "FAIL";

			// Using an if statement to write an style "PASS" or "FAIL" depending on user input
			// @NOTE: if the condition (total < 50) is true, the code between the first curly braces will and the else block will not.
			//	If it is false, the first block will not run, bu the else block will
			if(total_sum < 50) {
				
				// Changes the CSS property of color of the selected element
				document.querySelector("#result").style.color = "rgb(255,0,0)";

				// Changes the text of the selected element to the "FAIL GRADE"
				document.querySelector("#result-note").innerText = "FAIL GRADE";

			} else if (total_sum >= 80) {
			
				// Changes the CSS property of color of the selected element
				document.querySelector("#result").style.color = "rgb(0,0,255)";

				// Changes the text of the selected element to the "HONOURS GRADE"
				document.querySelector("#result-note").innerText = "HONOURS";
			
			} else {

				// Changes the CSS property of color of the selected element
				document.querySelector("#result").style.color = "rgb(0,0,0)";

				// Changes the text of the selected element to the "PASSING GRADE"
				document.querySelector("#result-note").innerText = "PASSING GRADE";

			}

		}

		// Start here

		const calc_single_grade = (root, weight) => {

			// ex: "#prof"
			const input_value = Number.parseFloat(document.querySelector("#prof").value);
			console.log(input_value);

			error = true;

			calculated_grade = 0;

			if(!error) {

				if (total_sum > 50) {

					// changes the css property of the color of the element
					document.querySelector("#result").style.color = "rgb(255,0,0)";

					// changed the text of the selected element
					document.querySelector("#result-note").innerText = "FAIL GRADE";

				} else if (total_sum >= 80) {

					document.querySelector("#result").style.color = "rbg(0,0,255)";

					document.querySelector("#result-note").innerText = "HONOURS";

				} else {

					document.querySelector("#result").style.color = "rbg(0,0,0)";

					document.querySelector("#result-note").innerText = "PASSING GRADE";

				} else {

					document.querySelector("#result").innerHTML = "----";

					document.querySelector("#result").style.color = "rbg(255,0,0)";
				}
			}

			const calc_single_grade = (root,weight) => {

				const input_value = Number.parseFloat(document.querySelector()

			}

			// returns true if input_value is a value like "cat"
			if (Number.isNaN(input_value)){
				
				// assign 0 to return_value
				return_value = 0;

				document.querySelector(root_selector).value = "" ;

				document.querySelector("#prof" + "-mark").innerHTML = "----";

			} else {

				calculated_grade = input_value * weight;
				document.querySelector("#prof" + "-mark").innerHTML = calculated_grade.toFixed(2);

			}
	
			return calculated_grade;

		} // end of calc_single_grade

		calc_btn.addEventListener("click", calc_marks);
		
		</script>
	</body>
</html>